<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        // --- 1. YOUR APP DATABASE ---
        // Add as many apps as you like here!
        const myApps = [
            { id: "389801252", name: "Instagram", icon: "https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/05/9f/83/059f838c-8594-5415-4682-127110967673/AppIcon-0-0-1x_U007emarketing-0-0-0-10-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/512x512bb.jpg" },
            { id: "284882215", name: "Facebook", icon: "https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/64/0e/96/640e9603-108b-6f8d-4e20-3b006509f7a5/AppIcon-0-0-1x_U007emarketing-0-0-0-10-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/512x512bb.jpg" },
            { id: "443904275", name: "LINE", icon: "https://is1-ssl.mzstatic.com/image/thumb/Purple221/v4/91/92/79/9192797b-9993-87a4-9694-81e828f70046/AppIcon-0-0-1x_U007emarketing-0-0-0-10-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/512x512bb.jpg" },
            { id: "544007664", name: "YouTube", icon: "https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/f4/37/26/f437267b-1678-0130-36b6-96a1a4593bc7/AppIcon-0-0-1x_U007emarketing-0-0-0-10-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/512x512bb.jpg" }
        ];

        // --- 2. THE MAGIC LOGIC ---
        // This checks if you clicked an app. If yes, it injects the banner tag IMMEDIATELY.
        const urlParams = new URLSearchParams(window.location.search);
        const selectedId = urlParams.get('view_id');

        if (selectedId) {
            document.write('<meta name="apple-itunes-app" content="app-id=' + selectedId + '">');
        }
    </script>
    <title>My App Store</title>
    <style>
        body { font-family: -apple-system, sans-serif; background: #f2f2f7; margin: 0; padding: 20px; color: #1c1c1e; }
        .header { text-align: center; margin-bottom: 30px; padding-top: 20px; }
        
        /* The Grid Layout */
        .app-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 15px; 
            max-width: 500px; 
            margin: 0 auto; 
        }

        /* The App Card */
        .app-card { 
            background: white; 
            border-radius: 20px; 
            padding: 15px; 
            text-decoration: none; 
            color: inherit; 
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .app-card:active { transform: scale(0.95); }
        
        .app-icon { 
            width: 70px; 
            height: 70px; 
            border-radius: 15px; 
            margin-bottom: 8px;
            border: 0.5px solid #ddd;
        }
        .app-name { font-size: 14px; font-weight: 600; margin: 0; }

        /* Detail View UI */
        .detail-view { text-align: center; padding-top: 60px; }
        .btn-back { 
            display: inline-block; margin-top: 30px; padding: 10px 20px; 
            background: #007aff; color: white; border-radius: 20px; 
            text-decoration: none; font-weight: 500; 
        }
    </style>
</head>
<body>

    <div id="main-content">
        </div>

    <script>
        const container = document.getElementById('main-content');

        if (selectedId) {
            // --- SHOWING ONE SPECIFIC APP PAGE ---
            const app = myApps.find(a => a.id === selectedId);
            container.innerHTML = `
                <div class="detail-view">
                    <img src="${app ? app.icon : ''}" class="app-icon" style="width:120px; height:120px; border-radius:25px;">
                    <h1>${app ? app.name : 'Unknown App'}</h1>
                    <p>Look at the top of your screen!<br>The iOS banner should appear now.</p>
                    <a href="index.html" class="btn-back">‚Üê Back to All Apps</a>
                </div>
            `;
        } else {
            // --- SHOWING THE GRID OF ALL APPS ---
            let gridHtml = `
                <div class="header">
                    <h1>My App Gallery</h1>
                    <p>Select an app to see its banner</p>
                </div>
                <div class="app-grid">
            `;

            myApps.forEach(app => {
                gridHtml += `
                    <a href="?view_id=${app.id}" class="app-card">
                        <img src="${app.icon}" class="app-icon">
                        <p class="app-name">${app.name}</p>
                    </a>
                `;
            });

            gridHtml += `</div>`;
            container.innerHTML = gridHtml;
        }
    </script>

</body>
</html>
